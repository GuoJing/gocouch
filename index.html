<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Gocouchdb by qiajigou</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Gocouchdb</h1>
        <h2>yet another couchdb go client.</h2>
        <a href="https://github.com/qiajigou/gocouchDB" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <p>This project is in developing...</p>

<p>Yet another CouchDB GO Client</p>

<p>0.1 is for core API</p>

<h2>
<a id="quick-start" class="anchor" href="#quick-start" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Quick start</h2>

<pre><code>// Client is your friend
// Use Client everywhere you want :)

import (
    "github.com/GuoJing/gocouchDB"
)

dsn := "http://localhost:5984"
client := gocouchDB.NewClientByDSN(dsn)

db, err := client.GetDatabase("duidui")

if err != nil {}

doc, err := db.GetDocument("test")

body := map[string]interface{} {
    "title" : "Haha223334444",
    "body"  : "Not at all",
}

doc.Update(body)

// Or
// doc.Delete()
</code></pre>

<h2>
<a id="transport" class="anchor" href="#transport" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Transport</h2>

<pre><code>//interface ITransport! &lt;- you can do it yourself
transport := NewTransport(dsn)

client := gocouchDB.NewClientByTransport(transport)
</code></pre>

<h2>
<a id="visit-without-client" class="anchor" href="#visit-without-client" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Visit without Client</h2>

<pre><code>transport := NewTransport(dsn)
db := NewDatabase(dbName, transport)
doc, err := db.GetDocument(Name)

doc = NewDocument(dbName, Name, transport)
doc.Delete()
</code></pre>

<h2>
<a id="auth" class="anchor" href="#auth" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Auth</h2>

<pre><code>client := gocouchDB.NewClientByDSN(dsn)
client.SetAuth(Username, Password)
client.GetDatabase("duidui")
// ...

// or

transport := NewTransport(dsn)
db := NewDatabase(dbName, transport)
db.SetAuth(Username, Password)
db.GetDocument("doc")
// ...
</code></pre>

<h2>
<a id="replicate" class="anchor" href="#replicate" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Replicate</h2>

<pre><code>task := new(gocouchDB.ReplicateTask)
task.Continuous = false
task.CreateTarget = true
task.Source = "duidui"
task.Target = "duidui_backup"

ret, err := client.Replicate(task)
</code></pre>

<h2>
<a id="do-function" class="anchor" href="#do-function" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>do function</h2>

<pre><code>// You could do anything with do
// this is ClientBase
// you can do that in every Class
// like Database, Document...
// Here we call this cl
// if we need a couchdb interface like:
// dsn/_replicate?param1=value1

body = map[string]interface{} {
    "source": "source_db",
    "target": "target_db",
}

params = map[string]string {
    "param1": "value1"
}

cl.do(POST, "_replicate", body, params)

// you could see Compact in Database class
// everything is using do function (but _all_dbs)
</code></pre>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/qiajigou/gocouchDB/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/qiajigou/gocouchDB/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/qiajigou/gocouchDB"></a> is maintained by <a href="https://github.com/qiajigou">qiajigou</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
